#### 选择

##### 第一章

**关键字：八大思想--抽象，指令集体系结构(ISA)**

1.抽象是改进设计的伟大思想之一，最重要的抽象之一是“指令集体系结构(ISA)”，下列对该抽象描述正确的是

A.是指高级语言和机器语言之间的接口

B.是指硬件和底层软件之间的接口

C.仅包括各种指令(add,sub,jr等)

D.尽管各种计算机技术(集成电路逻辑技术、半导体DRAM等)在快速发展，但ISA作为一种抽象不需要对这些考虑太多

**答案**：B

**解析**：概念题，见课本P15，对D选项  快速发展的计算机技术左右着计算机设计的命运，由于计算速度的激增和技术的迅猛发展，一种计算机设计的寿命可能只有3-5年。

##### 第二章

**关键字：编译--汇编--链接--加载**

2.一个C语言程序转换为可执行程序从逻辑上讲需要四个步骤：编译--汇编--链接--加载，下列关于这四个步骤描述错误的是

A.编译是将高级语言转换成一种机器能理解的符号形式的汇编语言

B.链接是将各种代码和数据片段收集并组合成为一个单一文件的过程，这个过程既可以执行于编译时，又可以执行于加载时，但不可执行于运行时

C.程序经加载后可直接运行

D.重定位信息是由汇编器生成的

**答案**：B

**解析**：可以执行于运行时，动态链接

##### 第三章

**关键字：浮点格式**

3.假定一8位的浮点格式，其中有k = 4的阶码位和n = 3的小数位。偏移量为
$$
2^3-1=7
$$
则最小的规格化数（正数）为

A. 0.013672

B. 0.015625

C. 0.017528

D. 0.000000

**答案**：B

**解析**：0 0001 000 =1/64

##### 第四章

**关键字：流水线 、控制冒险、beq优化**

4.beq指令会产生控制冒险。在流水线中，如果未经优化，则在预测错误时，需在beq指令的（）级清除错误执行的指令，需丢弃（）条指令，优化后在（）级清除错误执行的指令，需丢弃（）条指令

A. WB, 4, ID,, 1

B. WB, 4, EX, 2

C. MEM, 3, ID, 1

D. MEM, 3, EX, 2

**答案**：C

**解析**：未经优化：EX级计算操作数是否相等并输出信号，MEM级根据结果执行操作，预测正确则继续执行，错误则flush掉错误指令并回写PC，下一个时钟周期执行正确的指令；优化后：ID级执行所有操作

##### 第五章

**关键字：cache存储组织结构**

5.下面给出几个不同的高速缓存的参数。确定其高速缓存组数(S)、标记位数(t)、组索引位数(s)以及块偏移位数(b)

| 地址位数 | 大小（不包括有效位标记位 字节） | 块大小 | 每组块数 |
| -------- | :-----------------------------: | ------ | -------- |
| 32       |              1024               | 8      | 4        |

(选项中顺序为S , t  , s , b)

A. 64, 23, 6, 3

B. 256, 22, 8, 2

C. 16, 25, 4, 3

D. 32，24，5，3

答案：D

解析：每组大小为4*8=32字节，则共有1024/32 = 32组，则组索引位数为5，每块大小为8字节，则块偏移位数为3，标记 = 32-5-3 = 24

#### **大题**

**关键字：监听式一致性**
如图一所示的简单多核多处理器给出了一种经常实现的对称共享存储器体系结构。每个处理器拥有单个专用缓存，使用图二的监听式一致性协议来保持一致性。每个缓存都是直接映射的，共有四个块，每个块保存两个字。为了简化说明，缓存地址标签中包含了完整的地址，每个字仅显示两个十六进制字符，最低有效字位于右侧。一致性状态表示为M、S和I（已修改、共享和无效）。

假定初始缓存与存储器状态如图一所示。

CPU操作格式为 P#: <op> <address> [<value>]

其中，P#指明CPU（例如，P0）、<op>是CPU操作（例如，读取或写入）、<address>表示存储器地址、<value>指示在写入操作时指定的新字。将以下每个操作看作是独立应用于图一给定的初始状态。在给定操作之后，缓存和存储器的结果状态是怎样的（即，一致性状态、标签和数据）？写入数据默认放在右边的块。仅给出发生变化的块，例如，P0.B0:(I,120,00 01)表示CPU P0的 B0 块最终状态为 I，标签为120，数据字为00和01.另外，每个读操作返回什么样的值？

a. P0: read 120

b. P0: write 120  <-- 80

c. P3: write 120  <-- 80

d. P1: read 110

e. P0: write 108  <-- 48

f. P0: write 130  <-- 78

g. P3: write 130  <-- 78

**答案：**

a. P0: read 120                             →P0.B0: (S,120,0020)     返回0020

因为P3.B0 存有相同的数据   所以状态为 S 共享

b. P0: write 120  <-- 80			    →P0.B0: (S,120,0080)

​														 P3.B0: (I,120,0020)

写入数据  置其他副本无效  改写入块为M 已修改

c. P3: write 120  <-- 80 			   →P3.B0: (M,120,0080)

注意题中所述“将以下每个操作看作是独立应用于图一给定的初始状态。”

d. P1: read 110					 		 →P1.B2:(S,110,0010)     返回0010

e. P0: write 108  <-- 48			     →P0.B1: (M,108,0048)

​                                                           P3.B1: (I,108,0008)

f. P0: write 130  <-- 78			 	→P0.B2: (M,130,0078)

​                                                          M:110   0030 (写回memory)

110修改过  换出时要写回

g. P3: write 130  <-- 78			     →P3.B2: (M,130,0078)

a,b,c,d,e,g均为2分    f为三分    共计15分    可按比例调整
